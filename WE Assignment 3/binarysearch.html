<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Binary Search</title>
  </head>
  <body>
    <h2>Let's see the Binary Search</h2>
    <input
      type="text"
      placeholder="Space separated array elements"
      id="array"
    />
    <input type="text" placeholder="Enter number to be searched" id="key" />
    <button type="button" class="btn btn-primary" id="seeBinary">
      See the Binary Search
    </button>
    <div id="resultDiv"></div>
    <p id="final"></p>
    <script>
      function startBinarySearch() {
        console.log("Beginning Search");
        var resultDiv = document.getElementById("resultDiv");
        resultDiv.innerHTML = "";
        var input = document.getElementById("array").value.split(" ");
        input = input.map((ele, x) => {
          return parseInt(ele);
        });
        console.log(input);
        var x = parseInt(document.getElementById("key").value);

        if (recursiveFunction(input, x, 0, input.length - 1))
          document.getElementById("final").innerHTML = "Found it!";
        else document.getElementById("final").innerHTML = "Didn't Found it!";
      }

      let recursiveFunction = function (arr, x, start, end) {
        var resultDiv = document.getElementById("resultDiv");
        if (start > end) return false;

        let mid = Math.floor((start + end) / 2);
        let li = document.createElement("li");
        let resultText = "";
        for (let i = start; i < end; i++) {
          resultText += arr[i];
          if (i == mid) resultText += "*";
          resultText += " ";
        }
        console.log(resultText);
        li.innerHTML = resultText;
        resultDiv.appendChild(li);
        if (arr[mid] === x) return true;
        if (arr[mid] > x) return recursiveFunction(arr, x, start, mid - 1);
        else return recursiveFunction(arr, x, mid + 1, end);
      };
      document
        .getElementById("seeBinary")
        .addEventListener("click", startBinarySearch);
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
